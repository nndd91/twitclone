<%= render 'layouts/navbar'%>
<div class="ui centered grid">
  <div class="ten wide column"
    <div class="ui container">
      <div class="ui segments">
        <div class="ui segment orange inverted">
          <h3 align="center">
            Edit Profile of <%= resource_name.to_s.humanize %>
          </h3>
        </div>
        <div class="ui segment">
          <%= form_for(resource, as: resource_name, :class => 'ui form segment', url: registration_path(resource_name), html: { method: :put }) do |f| %>
          <%= devise_error_messages! %>

          <div class='ui form segment'>
            <div class="ui sixteen wide grid">
              <div class="ui twelve wide centered column">

                <div class="field">
                  <% if current_user.avatar.url.present? %>
                    <%= image_tag(current_user.avatar.thumb.url) %>
                    <br />
                    <%= f.label :remove_avatar do %>
                      <%= f.check_box :remove_avatar %> Remove Avatar
                    <% end %>
                    <br />
                  <% end %>

                  <%= f.label :avatar %>
                  <%= f.file_field :avatar %>
                  <%= f.hidden_field :avatar_cache %>
                </div>
                <div class="field">
                  <%= f.label :email %>
                  <%= f.email_field :email, autofocus: true %>
                </div>

                <div class="ui divider hidden"></div>

                <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
                  <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
                <% end %>

                <div class="ui sixteen wide grid">
                  <div class="ui eight wide column">
                    <div class="field">
                      <%= f.label :password %>
                      <%= f.password_field :password, autocomplete: "off" %><br/>

                      <i> (leave blank if you don't want to change it)
                      <% if @minimum_password_length %></i>
                        <em><%= @minimum_password_length %> characters minimum</em>
                      <% end %>
                    </div>
                  </div>
                  <div class="ui eight wide column">
                    <div class="field">
                      <%= f.label :password_confirmation %>
                      <%= f.password_field :password_confirmation, autocomplete: "off" %>
                    </div>
                  </div>
                </div>


                <div class="ui divider"></div>
                <div class="ui sixteen wide grid">
                  <div class="ui eight wide column">
                    <div class="field">
                      <%= f.label :first_name %>
                      <%= f.text_field :first_name %>
                    </div>
                  </div>
                  <div class="ui eight wide column">
                    <div class="field">
                      <%= f.label :last_name %>
                      <%= f.text_field :last_name %>
                    </div>
                  </div>
                </div>
                <br />


                <div class="field">
                  <%= f.label :age %>
                  <%= f.text_field :age %>
                </div>

                <div class="ui divider"></div>

                <div class="field">
                  <%= f.label :current_password %>
                  <%= f.password_field :current_password, autocomplete: "off"%>
                </div>

                <center>
                  <div class="actions">
                    <%= f.submit "Update" , class: "ui primary submit button" %>
                  </div>
                  <% end %>
                  <h3>Would you like to cancel your account?</h3>
                  <%= button_to "Cancel my account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete, class: "ui primary submit button" %>
                </center>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>